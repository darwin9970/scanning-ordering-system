# æ¡Œå°æ‰«ç ç‚¹å•ç³»ç»Ÿ

ä¸€å¥—æ”¯æŒ**å¤šäººååŒç‚¹å•**ã€**åå¨è‡ªåŠ¨åŒ–åˆ†å•**çš„å®Œæ•´é¤é¥®åº”ç”¨ä½“ç³»ã€‚

> ğŸš€ **æœ€æ–°æ›´æ–°**: é¡µé¢è£…ä¿®ç³»ç»Ÿï¼ˆè‡ªç”±ç”»å¸ƒæ¨¡å¼ï¼‰ã€ä»£ç è´¨é‡å·¥å…·é“¾ï¼ˆHusky + lint-stagedï¼‰

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ admin/              # åå°ç®¡ç†ç³»ç»Ÿ (Next.js 16)
â”‚   â”œâ”€â”€ .husky/         # Git hooks (pre-commit æ£€æŸ¥)
â”‚   â””â”€â”€ app/dashboard/  # é¡µé¢æ¨¡å—
â”œâ”€â”€ api/                # API æœåŠ¡ (Elysia + Drizzle)
â”œâ”€â”€ mini/               # å°ç¨‹åºç«¯ (uni-app Vue3)
â”œâ”€â”€ docs/               # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ .vscode/            # ç¼–è¾‘å™¨é…ç½®ï¼ˆä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤ï¼‰
â”œâ”€â”€ .editorconfig       # è·¨ç¼–è¾‘å™¨æ ¼å¼ç»Ÿä¸€
â”œâ”€â”€ docker-compose.yml  # Docker ç¼–æ’
â””â”€â”€ .env.example        # ç¯å¢ƒå˜é‡ç¤ºä¾‹
```

## æ ¸å¿ƒåŠŸèƒ½

### å•†å®¶ç«¯ (Web åå°)

- âœ… æ•°æ®æ¦‚è§ˆçœ‹æ¿ï¼ˆå›¾è¡¨ç»Ÿè®¡ï¼‰
- âœ… è®¢å•ç®¡ç†ï¼ˆæŸ¥çœ‹/çŠ¶æ€å˜æ›´/é€€æ¬¾/åŠ èœï¼‰
- âœ… å•†å“ç®¡ç†ï¼ˆSPU/SKU/å¤šè§„æ ¼/å±æ€§ï¼‰
- âœ… å¥—é¤ç®¡ç†ï¼ˆå•†å“ç»„åˆï¼‰
- âœ… åˆ†ç±»ç®¡ç†ï¼ˆæ‹–æ‹½æ’åºï¼‰
- âœ… æ¡Œå°ç®¡ç†ï¼ˆäºŒç»´ç ç”Ÿæˆ/æ‰¹é‡åˆ›å»ºï¼‰
- âœ… æ‰“å°æœºé…ç½®ï¼ˆåˆ†å•è§„åˆ™/æµ‹è¯•æ‰“å°ï¼‰
- âœ… é—¨åº—ç®¡ç†ï¼ˆå¤šé—¨åº—æ”¯æŒï¼‰
- âœ… å‘˜å·¥ç®¡ç†ï¼ˆCRUD/è§’è‰²åˆ†é…ï¼‰
- âœ… **è§’è‰²æƒé™ï¼ˆRBAC åŠ¨æ€é…ç½®ï¼‰** ğŸ†•
- âœ… **ä¼˜æƒ åˆ¸ç®¡ç†ï¼ˆæ»¡å‡/æŠ˜æ‰£/æ— é—¨æ§›ï¼‰** ğŸ†•
- âœ… **è¥é”€æ´»åŠ¨ï¼ˆæ»¡å‡/é™æ—¶æŠ˜æ‰£ï¼‰** ğŸ†•
- âœ… **ä¼šå‘˜ç®¡ç†ï¼ˆç­‰çº§/ç§¯åˆ†è§„åˆ™ï¼‰** ğŸ†•
- âœ… **æœåŠ¡å‘¼å«ï¼ˆå‚¬å•/åŠ æ°´/ç»“è´¦ï¼‰**
- âœ… **é¡µé¢è£…ä¿®ç³»ç»Ÿï¼ˆè‡ªç”±ç”»å¸ƒ/æ‹–æ‹½ç»„ä»¶ï¼‰** ğŸ†•
- âœ… æ•°æ®æŠ¥è¡¨ï¼ˆé”€å”®ç»Ÿè®¡/å›¾è¡¨å¯¼å‡ºï¼‰
- âœ… ç³»ç»Ÿè®¾ç½®
- âœ… å®æ—¶è®¢å•é€šçŸ¥ï¼ˆWebSocketï¼‰

### åç«¯æœåŠ¡

- âœ… RESTful APIï¼ˆå…¨æ¨¡å—è¦†ç›–ï¼‰
- âœ… **RBAC æƒé™ç³»ç»Ÿï¼ˆç»†ç²’åº¦æ§åˆ¶ï¼‰** ğŸ†•
- âœ… JWT è®¤è¯
- âœ… Swagger æ–‡æ¡£
- âœ… Drizzle ORM + PostgreSQL
- âœ… Redis ç¼“å­˜
- âœ… WebSocket å®æ—¶é€šä¿¡
- âœ… æ‰“å°ä»»åŠ¡ Workerï¼ˆRedis Streamï¼‰
- âœ… æ–‡ä»¶ä¸Šä¼ æœåŠ¡ ğŸ†•

### å°ç¨‹åºç«¯ï¼ˆå¼€å‘ä¸­ï¼‰

- ğŸ”² æ‰«ç ç‚¹é¤
- ğŸ”² å¤šäººååŒè´­ç‰©è½¦
- ğŸ”² åœ¨çº¿æ”¯ä»˜
- ğŸ”² è®¢å•è¿½è¸ª
- ğŸ”² æœåŠ¡å‘¼å«

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šæœ¬åœ°å¼€å‘

#### ç¯å¢ƒè¦æ±‚

- Bun 1.x
- PostgreSQL 16+
- Redis 7.0+

#### å¯åŠ¨ API æœåŠ¡

```bash
cd api
bun install
cp .env.example .env   # ç¼–è¾‘æ•°æ®åº“é…ç½®
bun run db:push        # åŒæ­¥è¡¨ç»“æ„
bun run db:seed        # æ’­ç§æµ‹è¯•æ•°æ®
bun run dev            # å¯åŠ¨ API
```

#### å¯åŠ¨æ‰“å° Worker (å¯é€‰)

```bash
cd api
bun run worker:dev
```

#### å¯åŠ¨åå°ç®¡ç†ç³»ç»Ÿ

```bash
cd admin
bun install
bun run dev
```

### æ–¹å¼äºŒï¼šDocker éƒ¨ç½²

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡
cp .env.example .env

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

### è®¿é—®åœ°å€

| æœåŠ¡         | åœ°å€                                  |
| :----------- | :------------------------------------ |
| åå°ç®¡ç†ç³»ç»Ÿ | http://localhost:3000                 |
| API æœåŠ¡     | http://localhost:4000                 |
| API æ–‡æ¡£     | http://localhost:4000/swagger         |
| WebSocket    | ws://localhost:4000/ws/store/:storeId |

### æµ‹è¯•è´¦å·

- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

## æŠ€æœ¯æ ˆ

| å±‚çº§     | æŠ€æœ¯                                          |
| :------- | :-------------------------------------------- |
| åå°ç®¡ç† | Next.js 16, TailwindCSS, React Query, Zustand |
| API æœåŠ¡ | Elysia, Drizzle ORM, Redis                    |
| æ•°æ®åº“   | PostgreSQL 16                                 |
| æ¶ˆæ¯é˜Ÿåˆ— | Redis Stream                                  |
| å®æ—¶é€šä¿¡ | WebSocket                                     |
| è¿è¡Œæ—¶   | Bun                                           |
| éƒ¨ç½²     | Docker Compose                                |

## å¼€å‘è„šæœ¬

### API æœåŠ¡ (`api/`)

```bash
bun run dev          # å¼€å‘æ¨¡å¼
bun run start        # ç”Ÿäº§æ¨¡å¼
bun run worker       # å¯åŠ¨æ‰“å° Worker
bun run db:push      # æ¨é€ Schema
bun run db:seed      # æ’­ç§æ•°æ®
bun run lint         # ESLint æ£€æŸ¥
bun run typecheck    # TypeScript æ£€æŸ¥
```

### åå°ç®¡ç† (`admin/`)

```bash
npm run dev          # å¼€å‘æ¨¡å¼
npm run build        # ç”Ÿäº§æ„å»º
npm run lint         # ESLint æ£€æŸ¥
npm run lint:fix     # è‡ªåŠ¨ä¿®å¤
npm run typecheck    # TypeScript æ£€æŸ¥
```

## ä»£ç è´¨é‡å·¥å…·

é¡¹ç›®é…ç½®äº†å®Œæ•´çš„ä»£ç è´¨é‡å·¥å…·é“¾ï¼š

| å·¥å…·            | ä½œç”¨           |
| :-------------- | :------------- |
| **ESLint**      | ä»£ç è§„èŒƒæ£€æŸ¥   |
| **Prettier**    | ä»£ç æ ¼å¼åŒ–     |
| **Husky**       | Git hooks ç®¡ç† |
| **lint-staged** | åªæ£€æŸ¥æš‚å­˜æ–‡ä»¶ |

### è‡ªåŠ¨æ£€æŸ¥

```bash
# æäº¤ä»£ç æ—¶è‡ªåŠ¨è¿è¡Œ
git commit -m "feat: xxx"
# â†“ è§¦å‘ pre-commit hook
# âœ… lint-staged (ESLint + Prettier)
# âœ… TypeScript ç±»å‹æ£€æŸ¥
```

### ç¼–è¾‘å™¨é…ç½®

é¡¹ç›®åŒ…å« `.vscode/settings.json`ï¼Œæ”¯æŒï¼š

- ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–
- ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯
- æ¨èæ‰©å±•åˆ—è¡¨

## æ–‡æ¡£

| æ–‡æ¡£                                                         | è¯´æ˜                       |
| :----------------------------------------------------------- | :------------------------- |
| [01-é¡¹ç›®ç»“æ„æ–‡æ¡£](./docs/01-é¡¹ç›®ç»“æ„æ–‡æ¡£.md)                 | ç›®å½•ç»“æ„ã€æŠ€æœ¯æ ˆã€å¯åŠ¨æŒ‡å— |
| [02-æ•°æ®åº“è®¾è®¡æ–‡æ¡£](./docs/02-æ•°æ®åº“è®¾è®¡æ–‡æ¡£.md)             | æ•°æ®æ¨¡å‹ã€ER å›¾            |
| [03-API æ¥å£æ–‡æ¡£](./docs/03-APIæ¥å£æ–‡æ¡£.md)                  | æ¥å£åˆ—è¡¨ã€è¯·æ±‚ç¤ºä¾‹         |
| [04-åå°ç®¡ç†ç³»ç»Ÿæ¶æ„æ–‡æ¡£](./docs/04-åå°ç®¡ç†ç³»ç»Ÿæ¶æ„æ–‡æ¡£.md) | å‰ç«¯æ¶æ„ã€ç»„ä»¶è®¾è®¡         |
| [05-å¼€å‘ä¸éƒ¨ç½²æŒ‡å—](./docs/05-å¼€å‘ä¸éƒ¨ç½²æŒ‡å—.md)             | å¼€å‘è§„èŒƒã€éƒ¨ç½²æµç¨‹         |
| [06-å°ç¨‹åºåŠŸèƒ½è§„åˆ’æ–‡æ¡£](./docs/06-å°ç¨‹åºåŠŸèƒ½è§„åˆ’æ–‡æ¡£.md)     | å°ç¨‹åºåŠŸèƒ½è§„åˆ’ã€UI è®¾è®¡ ğŸ†• |

## æˆªå›¾é¢„è§ˆ

### æ•°æ®æ¦‚è§ˆ

![Dashboard](./docs/screenshots/dashboard.png)

### è®¢å•ç®¡ç†

![Orders](./docs/screenshots/orders.png)

### è§’è‰²æƒé™é…ç½®

![Roles](./docs/screenshots/roles.png)

## License

MIT
